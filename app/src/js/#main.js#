
function pageLoaded() {
    var stage = new createjs.Stage('testcanvas');

    var mainView = new MainView(stage);

    mainView.Events.playNow.attach(function () {

	mainView.clearScene();
	
	var view = new GameView(stage);
	
	view.Events.drawMiddleStone.attach(function (sender, stone) {
	    view.drawMiddleStone({number: 1, color: BLACK});
	});

	view.Events.throwStone.attach(function (sender, stone) {
	    view.throwStone(stone, "BOTTOM");
	});

	view.Events.drawBottomStone.attach(function(sender, stone) {
	    view.drawBottomStone(stone);
	});

	view.Events.sitTable.attach(function (sender, side) {
	    view.sitPlayer({name: "helo"}, side);
	});
    
	view.buildScene();
    });

    mainView.buildScene();
    

}


$(document).ready(pageLoaded);
